d=0:500;
d1=10:500;
d2=10:500;
PL1=22.7*log10(d)+41.0+20*log10(1.2*(10^9));
PL2=40*log10(d)+9.45-17.3*log10(0.5)-17.3*log10(0.5)+2.7*log10(1.2*(10^9));
% PL3=40*log10(d)+9.45-17.3*log10(51.2)-17.3*log10(51.2)+2.7*log10(1.2*(10^9));

if d1<400
    max=(2.8-0.0024*d1);
else
    max=1.84;
end
PL3=Ploss(d1)+20-12.5*max+10*max*log10(d2)+3*log10(1.2*(10^9));
plot(d,PL1,'r-',d,PL2,'g-');
% plot(d1,d2,PL3,'r');
grid on 

function [PL]=Ploss(d)
if d<=20
    PL=22.7*log10(d)+41.0+20*log10(1.2*(10^9));
else
    PL=40*log10(d)+9.45-17.3*log10(0.5)-17.3*log10(0.5)+2.7*log10(1.2*(10^9));
end
end